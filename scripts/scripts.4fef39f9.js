"use strict";angular.module("pokestackApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","elasticsearch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"home"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/search/:searchName?",{templateUrl:"views/search.html",controller:"SearchCtrl",controllerAs:"search"}).when("/:categoryName",{templateUrl:"views/category.html",controller:"CategoryCtrl",controllerAs:"category"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","analyticsService",function(a,b,c){a.$on("$routeChangeSuccess",function(){c.recordPageview(b.url())})}]),angular.module("pokestackApp").controller("AboutCtrl",function(){}),angular.module("pokestackApp").controller("CategoryCtrl",["$route","$scope","$filter","categoriesData","elasticService","esFactory",function(a,b,c,d,e,f){b.loading=!0,b.categoryName=a.current.params.categoryName,b["class"]="fa "+c("icon")(d,b.categoryName),e.populate(b.categoryName).then(function(a){b.results=[];for(var c in a)b.results.push(a[c]);b.loading=!1,(a.length=0)&&(b.noresults=!0)})["catch"](function(a){b.loading=!1})}]),angular.module("pokestackApp").controller("HomeCtrl",["$scope","categoriesData",function(a,b){a.categories=b}]),angular.module("pokestackApp").controller("SearchCtrl",["$route","$scope","elasticService","esFactory","$location",function(a,b,c,d,e){b.loading=!0,a.current.params.searchName?c.search(a.current.params.searchName).then(function(a){b.results=[];for(var c in a)b.results.push(a[c]);b.loading=!1,(a.length=0)&&(b.noresults=!0)})["catch"](function(a){}):e.path("/")}]),angular.module("pokestackApp").directive("category",function(){return{templateUrl:"views/shared/tile.html",restrict:"E",link:function(a,b,c){a.name=c.name,a["class"]="fa fa-2x icon "+c.icon,a.link="#/"+c.name.toLowerCase().replace(/ /g,"_")}}}),angular.module("pokestackApp").directive("item",["$location",function(a){return{templateUrl:"views/shared/item.html",restrict:"E",scope:{site:"="},link:function(b,c,d){b.search=function(b){a.path("/search/"+b)}}}}]),angular.module("pokestackApp").service("analyticsService",function(){this.recordPageview=function(a){ga("set","page",a),ga("send","pageview")}}),angular.module("pokestackApp").service("searchService",["esFactory",function(a){return a({host:"http://pokestack-paschalis.rhcloud.com/",apiVersion:"1.7"})}]),angular.module("pokestackApp").value("categoriesData",[{name:"youtube",icon:"fa-youtube-play"},{name:"twitch",icon:"fa-twitch"},{name:"bots",icon:"fa-comments"},{name:"serverstatus",icon:"fa-server"},{name:"communities",icon:"fa-users"},{name:"maps",icon:"fa-map"},{name:"marketplaces",icon:"fa-shopping-basket"},{name:"opensource",icon:"fa-github"},{name:"dating",icon:"fa-heart"},{name:"mobileapps",icon:"fa-mobile-phone"},{name:"tools",icon:"fa-cog"},{name:"miscellaneous",icon:"fa-archive"}]),angular.module("pokestackApp").directive("search",["$location",function(a){return{templateUrl:"views/shared/searchbar.html",restrict:"E",link:function(b,c,d){b.redirect=function(){a.path("/search/"+b.searchInput)}}}}]),angular.module("pokestackApp").filter("icon",function(){return function(a,b){var c=a.filter(function(a){return a.name==b});return c[0].icon}}),angular.module("pokestackApp").service("elasticService",["$rootScope","$q","searchService","esFactory",function(a,b,c,d){var e={populate:function(a){var d=b.defer();return c.search({index:"pokestack",type:a,body:{sort:{name:{order:"asc"}},query:{match_all:{}}}}).then(function(a){var b=[];for(var c in a.hits.hits)b.push({name:a.hits.hits[c]._source.name,tags:a.hits.hits[c]._source.tags,description:a.hits.hits[c]._source.description,url:a.hits.hits[c]._source.url,image:a.hits.hits[c]._source.imageurl});d.resolve(b)})["catch"](function(a){d.resolve(a)}),d.promise},search:function(a){var d=b.defer();return c.search({index:"pokestack",body:{query:{match:{_all:{query:a,fuzziness:1}}}}}).then(function(a){var b=[];for(var c in a.hits.hits)b.push({name:a.hits.hits[c]._source.name,tags:a.hits.hits[c]._source.tags,description:a.hits.hits[c]._source.description,url:a.hits.hits[c]._source.url,image:a.hits.hits[c]._source.imageurl});d.resolve(b)})["catch"](function(a){d.resolve(a)}),d.promise}};return e}]),angular.module("pokestackApp").run(["$templateCache",function(a){a.put("views/about.html",'<section class="about"> <div class="block block-gray"> <div class="container"> <div class="row"> <div class="col-sm-12 text-block text-center"> <h3>We love Pokémon and we build apps</h3> <p>If you like this product or want to add more things feel free to contact us</p> <button class="btn btn-default" onclick="showDoorbellModal()">Contact-us</button> </div> </div> <!-- /row --> </div> <!-- /container --> </div> <div class="text-center block"> <div class="container"> <div class="row"> <div class="col-sm-12 text-block"> <h3>Who we are</h3> </div> <div class="col-sm-3 col-sm-offset-3"> <div class="profile"> <img src="images/sandoche.jpg" alt="Sandoche Picture" class="img-circle img-responsive center-block"> <h4> Sandoche <strong>Adittane</strong> </h4> <div class="contact"> <a href="https://www.linkedin.com/in/sandoche" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a> <a href="http://www.sandoche.com" target="_blank"><i class="fa fa-globe fa-2x"></i></a> </div> </div> </div> <div class="col-sm-3"> <div class="profile"> <img src="images/paschalis.jpg" alt="Paschalis Picture" class="img-circle img-responsive center-block"> <h4> Paschalis <strong>Tsolakidis</strong> </h4> <div class="contact"> <a href="https://www.linkedin.com/in/paschalis-tsolakidis-81b97945?trk=nav_responsive_tab_profile" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a> </div> </div> </div> </div> </div> </div> </section>'),a.put("views/category.html",'<div class="category-name"> <div class="container"> <div class="col-xs-3"> <h3><a href="#/"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span class="hidden-xs">Home</span></a></h3> </div> <div class="col-xs-6"> <h3 class="text-center">{{ categoryName }} <i class="{{ class }}" aria-hidden="true"></i></h3> </div> </div> </div> <div class="container"> <div class="row"> <div class="list-view col-sm-12"> <ng-include src="\'views/shared/loading.html\'" ng-if="loading"></ng-include> <item class="item-element" ng-repeat="result in results" site="result"></item> </div> </div> </div>'),a.put("views/home.html",'<div class="container"> <div class="row grid-view"> <category ng-repeat="category in categories" name="{{ category.name }}" icon="{{ category.icon }}"></category> </div> </div>'),a.put("views/search.html",'<div class="container"> <div class="row"> <div class="list-view col-sm-12"> <ng-include src="\'views/shared/loading.html\'" ng-if="loading"></ng-include> <ng-include src="\'views/shared/noresults.html\'" ng-show="!results.length"></ng-include> <item class="item-element" ng-repeat="result in results" site="result"></item> </div> </div> </div>'),a.put("views/shared/footer.html",'<footer class="footer"> <div class="container"> <div class="row upper-section"> <div class="col-xs-12 col-sm-3"> <div class="title">About</div> <div class="description">A curated directory of Pokemon GO resources</div> </div> <div class="col-xs-12 col-sm-3"> <div class="title">Navigate</div> <ul> <li><a href="#/">Home</a></li> <li><a href="#/about">About</a></li> <li><a href="https://github.com/PokeStackers/PokeStack" target="_blank">Github</a></li> <li><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5CT8K68F95SRL" target="_blank">Donate</a></li> </ul> </div> <div class="col-xs-12 col-sm-3"> <div class="title">Updates</div> <ul> <li><a class="cursor-link" data-toggle="modal" data-target="#modal">Get the newsletter</a></li> <li><a href="https://twitter.com/pokestack" target="_blank">Twitter</a></li> <li><a href="https://www.facebook.com/PokeStack/" target="_blank">Facebook</a></li> <li><a href="https://plus.google.com/u/0/115703090421695424701" target="_blank">Google+</a></li> </ul> </div> <div class="col-xs-12 col-sm-3"> <div class="title">Tips</div> <ul> <li><a class="cursor-link" onclick="showDoorbellModal()">Submit a new resource</a></li> <li><a class="cursor-link" onclick="showDoorbellModal()">Report a dead link</a></li> </ul> </div> </div> </div> <div class="copyright"> <div class="container"> <div class="row"> <div class="col-xs-12"> <section>All content copyright <a href="http://pokestack.com">PokeStack</a> &copy; All rights reserved.</section> <section class="footer-text">Made with <div class="pokeball-small"> <div class="pokeball-small__button"></div> </div> in <strong>Amsterdam</strong></section> </div> </div> </div> </div> </footer>'),a.put("views/shared/header.html",'<header> <div class="container"> <div class="row"> <div class="col-sm-8 special-col"> <a href="#/"><img src="images/logom.png" alt="logo" class="logo"></a> <h1><a href="#/">Poke<span class="font-bold">Stack</span></a></h1> <h2>A curated directory of Pokemon GO resources</h2> </div> <div class="col-sm-4 social-icons text-right"> <a href="https://www.facebook.com/PokeStack/" target="_blank"><i class="fa fa-facebook-square fa-3x" aria-hidden="true"></i></a> <a href="https://twitter.com/pokestack" target="_blank"><i class="fa fa-twitter-square fa-3x" aria-hidden="true"></i></a> <a href="https://plus.google.com/u/0/115703090421695424701" target="_blank"><i class="fa fa-google-plus-square fa-3x" aria-hidden="true"></i></a> <a href="https://github.com/PokeStackers/PokeStack" target="_blank"><i class="fa fa-github-square fa-3x" aria-hidden="true"></i></a> </div> </div> </div> <hr> </header>'),a.put("views/shared/item.html",'<div class="row item"> <div class="col-sm-2 col-sm-offset-0 col-xs-4 col-xs-offset-4"> <a href="{{ site.url }}" target="_blank"> <div class="image-container"> <div class="image-content"> <img ng-src="{{ site.image }}" class="img-responsive logo-site" ng-if="site.image"> <img ng-src="images/placeholder.png" class="img-responsive logo-site" ng-if="!site.image"> </div> </div> </a> </div> <div class="col-sm-10 col-xs-12"> <div class="content"> <h3 class="title"><a href="{{ site.url }}" target="_blank">{{ site.name }}</a></h3> <div class="description">{{ site.description }}</div> <div class="row margin-top-sm"> <div class="col-xs-8"> <span class="label label-info" ng-repeat="tag in site.tags" ng-click="search(tag)">{{ tag }}</span> </div> <div class="col-xs-4 text-right"> <a href="{{ site.url }}" class="more">Visit website <i class="glyphicon glyphicon-chevron-right"></i></a> </div> </div> </div> </div> </div> <hr>'),a.put("views/shared/loading.html",'<div class="loading-block"> <div class="center-on-page"> <div class="pokeball"> <div class="pokeball__button"></div> </div> </div> </div>'),a.put("views/shared/modal.html",'<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel">Get the newsletter</h4> </div> <div class="modal-body"> <p>Sign up for the newsletter and get updates about new Pokémon GO resources.</p> <!-- Begin MailChimp Signup Form --> <div id="mc_embed_signup"> <form action="//pokestack.us1.list-manage.com/subscribe/post?u=4f4ecca17cef1cac22d1d9329&amp;id=1d2d04f51f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate> <div id="mc_embed_signup_scroll"> <div id="mce-responses" class="clear"> <div class="response" id="mce-error-response" style="display:none"></div> <div class="response" id="mce-success-response" style="display:none"></div> </div> <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--> <div style="position: absolute; left: -5000px" aria-hidden="true"><input type="text" name="b_4f4ecca17cef1cac22d1d9329_1d2d04f51f" tabindex="-1" value=""></div> </div> <div class="input-group"> <input type="email" value="" name="EMAIL" class="required email form-control" id="mce-EMAIL" placeholder="Email address"> <span class="input-group-btn"> <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button btn btn-default"></span></div>  </form></div><!-- /input-group -->  </div> <!--End mc_embed_signup--> </div> </div> </div> '),a.put("views/shared/noresults.html",'<div class="loading-block"> <div class="center-on-page"> <div class="pokeball"> <div class="pokeball__button"></div> </div> </div> </div> <div class="no-results">Sorry, there are no results for your search</div>'),a.put("views/shared/searchbar.html",'<nav class="container search"> <div class="input-group form-group-lg"> <span class="input-group-addon" id="basic-addon1"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span> <input ng-keyup="redirect()" ng-model="searchInput" type="text" class="form-control" placeholder="Search for a PokemonGO resource" aria-describedby="basic-addon1"> </div> </nav>'),a.put("views/shared/tile.html",'<div class="col-md-3 col-sm-4 col-xs-6"> <a href="{{ link }}" class="tile"> {{ name }} <br class="visible-xs"><i class="{{ class }}" aria-hidden="true"></i> </a> </div>')}]);